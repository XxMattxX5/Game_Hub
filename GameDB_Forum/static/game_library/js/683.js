"use strict";(self.webpackChunkgame_library=self.webpackChunkgame_library||[]).push([[683],{6683:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var r=a(6540),m=a(8239),s=a(4073),n=a(4976),l=a(1083);function o(){const[e,t]=(0,r.useState)(null),[a,o]=(0,r.useState)(0),[i,c]=(0,r.useState)(null),[_,u]=(0,r.useState)(0);(0,r.useEffect)((()=>{h("general"),h("game")}),[]);const h=async e=>{try{const a=await l.A.get(`/api/get_posts?type=${e}&amount=1`);"general"==e?(t(a.data.posts[0]),o(a.data.count)):(c(a.data.posts[0]),u(a.data.count))}catch(e){throw new Error("Failed to fetch latest posts")}};return r.createElement(m.Ay,{container:!0},r.createElement(m.Ay,{item:!0,xs:6,id:"forum_home_box"},r.createElement(s.A,{variant:"h2",id:"forum_page_header"},"Game Hub Forum"),r.createElement(m.Ay,{item:!0,xs:10,className:"home_forum_post_box"},r.createElement(m.Ay,{item:!0,xs:12,className:"home_forum_post_row1"},r.createElement(s.A,{variant:"h6"},"General Posts"),r.createElement(s.A,{variant:"h6",flexGrow:.9,align:"right"},a||0)),r.createElement(m.Ay,{item:!0,xs:12,display:"flex",padding:"10px",className:"home_forum_post_row2"},r.createElement(s.A,{variant:"h6"},"Latest Post"),r.createElement(s.A,{variant:"h6",flexGrow:.9,align:"right"},e?e.title:"No Title")),r.createElement(m.Ay,{item:!0,xs:12,minHeight:300,alignContent:"center"},r.createElement(m.Ay,{item:!0,xs:8,margin:"0 auto"},r.createElement(s.A,{variant:"p",className:"latest_post_text"},e?e.text:"No Post"))),r.createElement(n.N_,{className:"forum_home_links",to:"/forum/general/"},"View General Posts")),r.createElement(m.Ay,{item:!0,xs:10,className:"home_forum_post_box"},r.createElement(m.Ay,{item:!0,xs:12,className:"home_forum_post_row1"},r.createElement(s.A,{variant:"h6"},"Game Posts"),r.createElement(s.A,{variant:"h6",flexGrow:.9,align:"right"},_||0)),r.createElement(m.Ay,{item:!0,xs:12,display:"flex",padding:"10px",className:"home_forum_post_row2"},r.createElement(s.A,{variant:"h6"},"Latest Post"),r.createElement(s.A,{variant:"h6",display:"flex",flex:1,align:"right"},r.createElement(m.Ay,{item:!0,flexGrow:1},i&&i.game?i.game.name:""),r.createElement("span",{style:{margin:"0 5px"}},"|"),i?i.title:"No Title")),r.createElement(m.Ay,{item:!0,xs:12,minHeight:300,alignContent:"center"},r.createElement(m.Ay,{item:!0,xs:8,margin:"0 auto"},r.createElement(s.A,{variant:"p",className:"latest_post_text"},i?i.text:"No Post"))),r.createElement(n.N_,{className:"forum_home_links",to:"/forum/games/"},"View Game Posts"))))}}}]);